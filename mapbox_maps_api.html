<html>
<head>
    <meta charset="UTF-8">
    <title>First Mapbox Map</title>
    <!-- Mapbox CSS -->
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet' />

<body>

<h1>Taco Bell <3</h1>

<div id='map' style="width: 100%; height: 50%;"></div>

<script src="js/mapbox-geocode-utils.js"></script>
<script src="js/keys.js"></script>
<script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.js'></script>
<link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.53.0/mapbox-gl.css' rel='stylesheet' />
<link href="https://api.mapbox.com/styles/v1/mapbox/light-v10/static/-76.4189,40.2164,5.61,0/300x200?access_token=pk.eyJ1IjoidHJvaWFtaWNoYWVsIiwiYSI6ImNrZWN4MDN6NDAwMTMyc216Y3VlOXN3YzIifQ.4npBJg3_tq3kQx6kJuvl8A"/>

<script>
    mapboxgl.accessToken = MAPBOX_TOKEN;
    var map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/streets-v9',
        zoom: 11,//start zoom
        center: [-98.318120, 29.498940]//start pos

    });
    console.log(map);
    var places = [
        {name: "Taco Bell", LngLat: ([-98.318120, 29.498940]), HTML: "<p>Yo quiero Taco Bell</p>"},
        {name: "Arby's", LngLat: ([-98.35903,29.48122]), HTML: "<p>They have the meats!</p>"},
        {name: "ColdStone", LngLat: ([-98.329291,29.561369]), HTML: "<p>'Stone Cold' Steve ColdStone Creamery</p>"}
    ];

    places.forEach(function placeMarkerAndPopup(place, LngLat, HTML) {
            var popup = new mapboxgl.Popup()
                .setHTML(place.HTML)
            var marker = new mapboxgl.Marker()
                .setLngLat(place.LngLat)
                .addTo(map)
                .setPopup(popup);

                // .popup.addTo(map);
            });

    var geekdom = {lng: -98.4935, lat: 29.4264};
    reverseGeocode(geekdom, MAPBOX_TOKEN)
        .then(function (result){
            console.log(result);
        });


</script>

</body>
</html>
